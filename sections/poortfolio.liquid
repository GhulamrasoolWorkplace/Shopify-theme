<section>
  <h2>My Portfolio</h2>
  <div class="portfolio-grid">
    {% for item in section.settings.portfolio_selector %}
      {% assign portfolio_list = item.value %}
      {% assign portfolio = portfolio_list.portfolio.value %}

      <div class="portfolio-card">
        <img 
          src="{{ portfolio.featured_image | file_url }}" 
          alt="{{ portfolio.title }}" 
          width="100%" 
          height="100%">
        <h3>{{ portfolio.title }}</h3>
        <p>Client: {{ portfolio.client_name }}</p>
      </div>
    {% endfor %}
  </div>
</section>

{% schema %}
{
  "name": "Portfolio Section",
  "settings": [
    {
      "type": "metaobject_list",
      "label": "Select Portfolio Lists",
      "id": "portfolio_selector",
      "metaobject_type": "portfolio"
    }
  ],
  "presets": [
    {
      "name": "Default",
      "category": "Custom"
    }
  ]
}
{% endschema %}
